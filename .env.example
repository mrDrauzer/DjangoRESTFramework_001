DJANGO_SECRET_KEY=change-me-in-prod
DEBUG=1               # В проде установите 0
TIME_ZONE=Europe/Moscow

# Database selection
DB_ENGINE=postgres

# PostgreSQL settings for Docker (used when DB_ENGINE=postgres)
POSTGRES_DB=drf_lms
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432

# DB connection tuning (optional)
# Keep persistent DB connections for N seconds (Django setting CONN_MAX_AGE)
DB_CONN_MAX_AGE=60
# PostgreSQL client connect timeout (seconds)
DB_CONNECT_TIMEOUT=5

# Alternative PostgreSQL settings for local native Postgres (preferred if set)
# These variables override POSTGRES_* if present.
# Example from the task:
DB_NAME=Django_REST_Framework
DB_USER=django_user
DB_PASSWORD=password
DB_HOST=127.0.0.1
DB_PORT=5432

# pgAdmin 4 credentials
PGADMIN_DEFAULT_EMAIL=admin@local
PGADMIN_DEFAULT_PASSWORD=admin

# Django settings module (for docker-compose web service)
DJANGO_SETTINGS_MODULE=config.settings

# Production security and hosts (используются при DEBUG=0)
# Укажите домены/хосты через запятую, например: example.com, www.example.com, localhost
ALLOWED_HOSTS=localhost, 127.0.0.1
# Для HTTPS/проксирования укажите доверенные источники CSRF:
# пример: https://example.com, https://www.example.com, http://localhost
CSRF_TRUSTED_ORIGINS=

# HSTS/SSL (включайте осознанно при наличии HTTPS)
# SECURE_SSL_REDIRECT=1
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=1
# SECURE_HSTS_PRELOAD=1

# Redis / Celery
# Можно указать полной строкой:
# REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# В локальной разработке без запуска воркера можно включить синхронное выполнение задач:
# CELERY_TASK_ALWAYS_EAGER=1

# Режим расписания celery-beat (daily task)
# По умолчанию используется timedelta (раз в 24 часа).
# Чтобы запускать в конкретное время суток, переключите в crontab и укажите CRON_HOUR/CRON_MINUTE.
CELERY_SCHEDULE_MODE=timedelta   # варианты: timedelta | crontab
CRON_HOUR=3                      # используется при режиме crontab (час по TIME_ZONE)
CRON_MINUTE=0                    # используется при режиме crontab (минута)

# Использовать базу данных как источник расписания celery-beat
# При значении 1 включается 'django_celery_beat.schedulers:DatabaseScheduler',
# а встроенное расписание из settings.py игнорируется.
# После включения создавайте расписания через админку Django (Periodic tasks)
# или командой manage.py для объектов django-celery-beat.
CELERY_USE_DB_SCHEDULER=0

# Email (по умолчанию консольный backend)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_HOST_USER=user
# EMAIL_HOST_PASSWORD=pass
# EMAIL_USE_TLS=1
DEFAULT_FROM_EMAIL=no-reply@example.com

# Stripe (тестовый режим)
# Ключ можно получить в личном кабинете: https://dashboard.stripe.com/test/apikeys
STRIPE_API_KEY=sk_test_xxx
# Валюта для цен (по умолчанию usd). Для России можно использовать rub, суммы передаются в копейках.
STRIPE_CURRENCY=usd
# Базовый URL вашего бэкенда/сайта — используется для success/cancel URL в Stripe Checkout
SITE_URL=http://localhost:8000

# Gunicorn (прод)
GUNICORN_WORKERS=3
GUNICORN_TIMEOUT=120
GUNICORN_BIND=0.0.0.0:8000

# Nginx (прод)
NGINX_PORT=80
# Лимит размера загружаемых файлов (например 16m, 64m)
CLIENT_MAX_BODY_SIZE=16m

# Автоматические бэкапы Postgres (опционально; профиль compose: ops)
# Cron-расписание в формате crontab (по умолчанию ежедневно в 03:00):
DB_BACKUP_SCHEDULE=0 3 * * *
# Сколько дней хранить дампы:
DB_BACKUP_KEEP_DAYS=7
# Директория хранения внутри контейнера sidecar (маппится на ./backups):
DB_BACKUP_DIR=/backups

# Sentry (необязательно, для мониторинга ошибок и перформанса)
# Получите DSN в проекте Sentry: https://sentry.io/
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
# Доли выборки трассировок/профилей (0.0–1.0). По умолчанию выключено.
SENTRY_TRACES_SAMPLE_RATE=0.0
SENTRY_PROFILES_SAMPLE_RATE=0.0
# Произвольная строка релиза (коммит/тег), опционально
SENTRY_RELEASE=

# Observability / Логи и метрики (опционально)
# Формат логов приложения: plain | json (для json нужен python-json-logger)
LOG_FORMAT=plain
# Экспорт метрик Prometheus (django-prometheus): 1 — включить, 0 — выключить
# При включении добавятся middleware и /metrics; для Postgres будет использоваться
# instrumented backend, а в urls подключатся маршруты django_prometheus.
PROMETHEUS_ENABLED=0

# Кэширование (опционально)
# Включить Redis‑кэш (требуется запущенный Redis, переменные REDIS_* уже заданы выше)
CACHE_ENABLED=0
# Время жизни записей кэша по умолчанию (сек)
CACHE_TTL=300

# CORS (опционально)
# Включить поддержку CORS (напр., для фронтенда на другом домене/порту)
CORS_ENABLED=0
# Разрешить все источники (только для разработки!)
CORS_ALLOW_ALL_ORIGINS=0
# Явный список разрешённых источников через запятую (пример для фронта):
# http://localhost:5173, https://app.example.com
CORS_ALLOWED_ORIGINS=
# Разрешить cookie/credentials при CORS-запросах
CORS_ALLOW_CREDENTIALS=0
# (Опционально) Переопределить разрешённые заголовки/методы
# CORS_ALLOW_HEADERS=Content-Type, Authorization
# CORS_ALLOW_METHODS=GET, POST, PUT, PATCH, DELETE, OPTIONS

# DRF Throttling (опционально)
# Включить базовые лимиты для анонимных и аутентифицированных пользователей
THROTTLE_ENABLED=0
# Примеры значений: "100/hour", "1000/day", "10/minute"
THROTTLE_ANON=100/hour
THROTTLE_USER=1000/hour